<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="pie-chart.html">

<polymer-element name="housemouse-pie">
  	
    <style>

    </style>

  	<template>
  		<p>I'M THE PIE ELEMENT</p>
  		<pie-chart houseval="{{ count.house }}" flatval="{{ count.flat }}" farmval="{{ count.farm }}"></pie-chart>
		<p> {{ count.flat }} </p>

  	</template>


    
  	<script>
		Polymer('housemouse-pie', {

			count: {flat: 0, house: 0, farm: 0},
			
  			ready: function(){
  					this.loadcount(); 
  				},

  			loadcount: function(){
				
  				var arrayLength = voters.permanent.length;

  				for (var i = 0; i < arrayLength; i++) {
  					switch (voters.permanent[i].choice) {
  						case "flat":
  							this.count.flat++
  							break;
  						case "house":
  							this.count.house++
  							break;
  						case "farm":
  							this.count.farm++
  							break;	}

  				}

  				console.log(this.count);

  				

				}

  		});
	


  	</script>
</polymer-element>