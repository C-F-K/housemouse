<html>
	<head>
		<script src="bower_components/platform/platform.js"></script>
		<script type="text/javascript" src="js/jquery-1.4.2.js"></script>
     	<script type="text/javascript" src="js/jquery.mockjson.js"></script>
     	<script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?2.1.3"></script>
     	<script src="app.js"></script>	

		<link rel="import" href="elements/pie-chart.html">


	</head>
	<body>
		
		<pie-chart></pie-chart>

		<script type="text/javascript">

			$.mockJSON.data.EU_COUNTRY = [
		    'al', 'ad', 'at', 'by', 'be','ba','bg','hr','cy','cz','dk','ee','fo','fi','fr','de','gi','gr','hu','is','ie','it','lv','li','lt','lu','mk','mt','md','mc','nl','no','pl','pt','ro','ru','sm','rs','sk','si','es','se','ch','ua','gb','va', 'im','me'
			];

			$.mockJSON.data.HTYPE = [
		    'flat', 'house', 'farm'
			];

			var votersFixture = { 
	  		 "permanent|5-100" : [ 
		    		{ 
		      		"userid|20-40" : "@NUMBER",
		      		"country" : "@EU_COUNTRY",
		      		"choice" : "@HTYPE"
		      		}
	   		 	]
	  		};

            var voters = $.mockJSON.generateFromTemplate(votersFixture);	
            console.log(voters)

            var count = {flat: 0, house: 0, farm: 0};

            var arrayLength = voters.permanent.length;	
  			
  			for (var i = 0; i < arrayLength; i++) {
  				switch (voters.permanent[i].choice) {
  					case "flat":
  						this.count.flat++
  						break;
  					case "house":
  						this.count.house++
  						break;
  					case "farm":
  						this.count.farm++
  						break;	};
  					};



		</script>


	</body>
</html>
