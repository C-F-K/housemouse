<html>
	<head>
		<script src="bower_components/platform/platform.js"></script>
		<script type="text/javascript" src="js/jquery-1.4.2.js"></script>
     	<script type="text/javascript" src="js/jquery.mockjson.js"></script>
     	<script type="text/javascript" src="http://mbostock.github.com/d3/d3.js?2.1.3"></script>
     	<script src="app.js"></script>	

		<link rel="import" href="elements/pie-chart.html">
		<link rel="import" href="elements/kaart.html">

	</head>
	<body>
		
		<pie-chart></pie-chart>
		<kaart-element></kaart-element>

		<script type="text/javascript">

			//JSON mockup code

			$.mockJSON.data.EU_COUNTRY = [
		    'al', 'ad', 'at', 'by', 'be','ba','bg','hr','cy','cz','dk','ee','fo','fi','fr','de','gi','gr','hu','is','ie','it','lv','li','lt','lu','mk','mt','md','mc','nl','no','pl','pt','ro','ru','sm','rs','sk','si','es','se','ch','ua','gb','va', 'im','me'
			];

			$.mockJSON.data.HTYPE = [
		    'flat', 'house', 'farm'
			];

			var votersFixture = { 
	  		 "permanent|5-100" : [ 
		    		{ 
		      		"userid|20-40" : "@NUMBER",
		      		"country" : "@EU_COUNTRY",
		      		"choice" : "@HTYPE"
		      		}
	   		 	]
	  		};

	  		// taartcode

            var voters = $.mockJSON.generateFromTemplate(votersFixture);	

            var count = {flat: 0, house: 0, farm: 0};

            var arrayPermanentLength = voters.permanent.length;	
  			
  			for (var i = 0; i < arrayPermanentLength; i++) {
  				switch (voters.permanent[i].choice) {
  					case "flat":
  						this.count.flat++
  						break;
  					case "house":
  						this.count.house++
  						break;
  					case "farm":
  						this.count.farm++
  						break;	};
  					};


  			// Kaartcode

  			var countryCount = [
			{country: "nl", htype: "flat", flat: 0, house: 0, farm: 0},
			{country: "de", htype: "huis", flat: 0, house: 0, farm: 0}
			];

			var arrayPermanentLength = voters.permanent.length;	
	    	var arrayCountryCountLength = countryCount.length;
	  		

	  		/* for (var s = 0; s < arrayPermanentLength; s++){


		  		for (var i = 0;  < arrayPermanentLength; i++) {
		  			switch (voters.permanent[i].choice) {
		  				case "flat":
	 						this.countryCount[0].flat++
		 					break;
		  				case "house":
		  					this.countryCount[0].house++
		  					break;
		  				case "farm":
		  					this.countryCount[0].farm++
		  					break;	};
		  			};
		  	}

			*/

	  		console.log(voters);
	  		console.log(countryCount);
	  		console.log(count);

		</script>


	</body>
</html>
